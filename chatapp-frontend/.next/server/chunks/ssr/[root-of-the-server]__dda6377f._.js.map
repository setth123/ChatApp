{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/thanhnguyen/Documents/ChatApp/chatapp-frontend/components/MessageInput.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState } from \"react\";\n\ninterface SuggestingProps{\n    suggestions: string[];\n    onPick: (text:string)=>void;\n}\n\n\nfunction Suggestions({suggestions,onPick}:SuggestingProps){\n    if(suggestions.length==0)return null;\n    return(\n        <div className=\"flex gap-2 mt-2 flex-wrap\">\n            {suggestions.map((s,i)=>(\n                <button\n                    key={i}\n                    className=\"bg-gray-200 hover:bg-gray-300 px-3 py-1 rounded-full text-sm\"\n                    onClick={()=>onPick(s)}>{s}\n                </button>\n            ))}\n        </div>\n    )\n}\n\n\n//pass a func\nexport default function MessageInput({onSend}:{onSend:(msg:string)=>void}){\n    const [message,setMessage]=useState(\"\")\n    const [suggestions,setSuggestions]=useState<string[]>([]);\n    const [loading,setLoading]=useState(false)\n\n    async function fetchSuggestion(text:string){\n        setLoading(true);\n        try{\n            const res=await fetch(\"/api/suggest\",{\n                method:\"POST\",\n                body:JSON.stringify({text}),\n                headers:{\"Content-Type\":\"application/json\"}\n            });\n            const data=await res.json();\n            setSuggestions(data);\n        }\n        catch(err){\n            alert(\"AI Suggestion Error: \"+err);\n        }\n        finally{\n            setLoading(false);\n        }\n    }\n    function handleSend(){\n        if(message.trim()==\"\")return;\n        onSend(message);\n        setMessage(\"\");\n        setSuggestions([]);\n        fetchSuggestion(message);\n    }\n    return(\n        <div className=\"border-t p-2\">\n            <div className=\"flex\">\n                <input className=\"flex-1 border p-2 rounded\"\n                        value={message} onChange={(e)=>setMessage(e.target.value)}\n                        placeholder=\"Type your message...\"/>\n                <button onClick={handleSend} className=\"ml-2 bg-blue-500 text-white px-4 rounded\">Send</button>\n            </div>\n            <Suggestions suggestions={suggestions} onPick={(text)=>setMessage(text)}/>\n        </div>\n    )\n}"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAUA,SAAS,YAAY,EAAC,WAAW,EAAC,MAAM,EAAiB;IACrD,IAAG,YAAY,MAAM,IAAE,GAAE,OAAO;IAChC,qBACI,8OAAC;QAAI,WAAU;kBACV,YAAY,GAAG,CAAC,CAAC,GAAE,kBAChB,8OAAC;gBAEG,WAAU;gBACV,SAAS,IAAI,OAAO;0BAAK;eAFpB;;;;;;;;;;AAOzB;AAIe,SAAS,aAAa,EAAC,MAAM,EAA6B;IACrE,MAAM,CAAC,SAAQ,WAAW,GAAC,IAAA,iNAAQ,EAAC;IACpC,MAAM,CAAC,aAAY,eAAe,GAAC,IAAA,iNAAQ,EAAW,EAAE;IACxD,MAAM,CAAC,SAAQ,WAAW,GAAC,IAAA,iNAAQ,EAAC;IAEpC,eAAe,gBAAgB,IAAW;QACtC,WAAW;QACX,IAAG;YACC,MAAM,MAAI,MAAM,MAAM,gBAAe;gBACjC,QAAO;gBACP,MAAK,KAAK,SAAS,CAAC;oBAAC;gBAAI;gBACzB,SAAQ;oBAAC,gBAAe;gBAAkB;YAC9C;YACA,MAAM,OAAK,MAAM,IAAI,IAAI;YACzB,eAAe;QACnB,EACA,OAAM,KAAI;YACN,MAAM,0BAAwB;QAClC,SACO;YACH,WAAW;QACf;IACJ;IACA,SAAS;QACL,IAAG,QAAQ,IAAI,MAAI,IAAG;QACtB,OAAO;QACP,WAAW;QACX,eAAe,EAAE;QACjB,gBAAgB;IACpB;IACA,qBACI,8OAAC;QAAI,WAAU;;0BACX,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAM,WAAU;wBACT,OAAO;wBAAS,UAAU,CAAC,IAAI,WAAW,EAAE,MAAM,CAAC,KAAK;wBACxD,aAAY;;;;;;kCACpB,8OAAC;wBAAO,SAAS;wBAAY,WAAU;kCAA2C;;;;;;;;;;;;0BAEtF,8OAAC;gBAAY,aAAa;gBAAa,QAAQ,CAAC,OAAO,WAAW;;;;;;;;;;;;AAG9E","debugId":null}},
    {"offset": {"line": 197, "column": 0}, "map": {"version":3,"sources":["file:///home/thanhnguyen/Documents/ChatApp/chatapp-frontend/lib/socket.ts"],"sourcesContent":["import {io} from \"socket.io-client\";\n\nconst socket=io(\"http://localhost:4000\", {\n    withCredentials:true\n})\n\nexport default socket;"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,SAAO,IAAA,8LAAE,EAAC,yBAAyB;IACrC,iBAAgB;AACpB;uCAEe","debugId":null}},
    {"offset": {"line": 211, "column": 0}, "map": {"version":3,"sources":["file:///home/thanhnguyen/Documents/ChatApp/chatapp-frontend/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport MessageInput from \"@/components/MessageInput\";\nimport Sidebar from \"@/components/Sidebar\";\nimport socket from \"@/lib/socket\";\nimport { useEffect, useState } from \"react\";\n\nexport default function Home() {\n  const [room]=useState(\"global\");\n  const [message,setMessage]=useState(\"\");\n  const [messages,setMessages]=useState<{sender:string;content:string}[]>([]);\n\n  useEffect(()=>{\n    socket.emit(\"join_room\",room);\n    socket.on(\"receive_message\", (msg) => {\n      setMessages((prev) => [...prev, msg]);\n    });\n    return () => {\n      socket.off(\"receive_message\");\n    };\n\n  },[room])\n  function sendMessage() {\n    if (message.trim() === \"\") return;\n    socket.emit(\"send_message\", { sender: \"Me\", content: message, room });\n    setMessages((prev) => [...prev, { sender: \"Me\", content: message }]);\n    setMessage(\"\");\n  }\n  return (\n    <div className=\"flex flex-col h-screen max-w-xl mx-auto\">\n      <div className=\"flex-1 overflow-y-auto border p-3 space-y-2 bg-gray-50\">\n        {messages.map((m, i) => (\n          <div key={i} className=\"p-2 rounded-bg-white shadow\">\n            <b>{m.sender}: </b>{m.content}\n          </div>\n        ))}\n      </div>\n      <MessageInput onSend={sendMessage}/>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAEA;AACA;AALA;;;;;AAOe,SAAS;IACtB,MAAM,CAAC,KAAK,GAAC,IAAA,iNAAQ,EAAC;IACtB,MAAM,CAAC,SAAQ,WAAW,GAAC,IAAA,iNAAQ,EAAC;IACpC,MAAM,CAAC,UAAS,YAAY,GAAC,IAAA,iNAAQ,EAAmC,EAAE;IAE1E,IAAA,kNAAS,EAAC;QACR,wHAAM,CAAC,IAAI,CAAC,aAAY;QACxB,wHAAM,CAAC,EAAE,CAAC,mBAAmB,CAAC;YAC5B,YAAY,CAAC,OAAS;uBAAI;oBAAM;iBAAI;QACtC;QACA,OAAO;YACL,wHAAM,CAAC,GAAG,CAAC;QACb;IAEF,GAAE;QAAC;KAAK;IACR,SAAS;QACP,IAAI,QAAQ,IAAI,OAAO,IAAI;QAC3B,wHAAM,CAAC,IAAI,CAAC,gBAAgB;YAAE,QAAQ;YAAM,SAAS;YAAS;QAAK;QACnE,YAAY,CAAC,OAAS;mBAAI;gBAAM;oBAAE,QAAQ;oBAAM,SAAS;gBAAQ;aAAE;QACnE,WAAW;IACb;IACA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;0BACZ,SAAS,GAAG,CAAC,CAAC,GAAG,kBAChB,8OAAC;wBAAY,WAAU;;0CACrB,8OAAC;;oCAAG,EAAE,MAAM;oCAAC;;;;;;;4BAAO,EAAE,OAAO;;uBADrB;;;;;;;;;;0BAKd,8OAAC,sIAAY;gBAAC,QAAQ;;;;;;;;;;;;AAG5B","debugId":null}}]
}